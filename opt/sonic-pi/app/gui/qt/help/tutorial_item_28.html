<font face="HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue">


<p style="font-size:15px;color:#5e5e5e;"> <span style="font-size:25px; color:white;background-color:deeppink;">FX in Practice</span></p>

<p style="font-size:15px;color:#5e5e5e;">Although they look deceptively simple on the outside, FX are actually
quite complex beasts internally. Their simplicity often entices people
to overuse them in their pieces. This may be fine if you have a
powerful machine, but if - like me - you use a Raspberry Pi to jam
with, you need to be careful about how much work you ask it to do if
you want to ensure the beats keep flowing.</p>

<p style="font-size:15px;color:#5e5e5e;">Consider this code:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">loop do
  with_fx :reverb do
    play 60, release: 0.1
    sleep 0.125
  end
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">In this code we’re playing note 60 with a very short release time, so
it’s a short note. We also want reverb so we’ve wrapped it in a reverb
block. All good so far. Except…</p>

<p style="font-size:15px;color:#5e5e5e;">Let’s look at what the code does. First we have a <code style="font-size:15px; color:deeppink; background-color:white">loop</code> which means
everything inside of it is repeated forever. Next we have a <code style="font-size:15px; color:deeppink; background-color:white">with_fx</code>
block. This means we will create a new reverb FX <em style="font-size:15px;color:darkorange;">every time we
loop</em>. This is like having a separate FX reverb pedal for every time you
pluck a string on a guitar. It’s cool that you can do this, but it’s not
always what you want. For example, this code will struggle to run nicely
on a Raspberry Pi. All the work of creating the reverb and then waiting
until it needs to be stopped and removed is all handled by <code style="font-size:15px; color:deeppink; background-color:white">with_fx</code> for
you, but this takes CPU power which may be precious.</p>

<p style="font-size:15px;color:#5e5e5e;">How do we make it more similar to a traditional setup where our
guitarist has just <em style="font-size:15px;color:darkorange;">one</em> reverb pedal which all sounds pass through?
Simple:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb do
  loop do
    play 60, release: 0.1
    sleep 0.125
  end
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">We put our loop <em style="font-size:15px;color:darkorange;">inside</em> the <code style="font-size:15px; color:deeppink; background-color:white">with_fx</code> block. This way we only create
a single reverb for all notes played in our loop. This code is a lot
more efficient and would work fine on a Raspberry Pi.</p>

<p style="font-size:15px;color:#5e5e5e;">A compromise is to use <code style="font-size:15px; color:deeppink; background-color:white">with_fx</code> over an iteration within a loop:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">loop do
  with_fx :reverb do
    16.times do
      play 60, release: 0.1
      sleep 0.125
    end
  end
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">This way we’ve lifted the <code style="font-size:15px; color:deeppink; background-color:white">with_fx</code> out of the inner part of the <code style="font-size:15px; color:deeppink; background-color:white">loop</code>
and we’re now creating a new reverb every 16 notes.</p>

<p style="font-size:15px;color:#5e5e5e;">Remember, there are no mistakes, just possibilities. However, each of
these approaches will have a different sound and also different
performance characteristics. So play around and use the approach that
sounds best to you whilst also working within the performance
constraints of your platform.</p>
</font>