<font face="HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue">

<p style="font-size:15px;color:#5e5e5e;"> <span style="font-size:25px; color:white;background-color:deeppink;">Controlling Running Synths</span></p>

<p style="font-size:15px;color:#5e5e5e;">So far we’ve only concerned ourselves with triggering new sounds and FX. However, Sonic Pi gives us the ability to manipulate and control currently running sounds. We do this by using a variable to capture a reference to a synth:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">s = play 60, release: 5
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Here, we now have a run-local variable, <code style="font-size:15px; color:deeppink; background-color:white">s</code> which represents the synth playing note 60. Note that this is run-local - you can’t access it from other runs like you can with functions.</p>

<p style="font-size:15px;color:#5e5e5e;">Once we have <code style="font-size:15px; color:deeppink; background-color:white">s</code> we can start controlling it via the <code style="font-size:15px; color:deeppink; background-color:white">control</code> function:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">s = play 60, release: 5
sleep 0.5
control s, note: 65
sleep 0.5
control s, note: 67
sleep 3
control s, note: 72
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">The thing to notice is that we’re not triggering 4 different synths here - we’re just triggering one synth and then changing the pitch 3 times afterwards.</p>

<p style="font-size:15px;color:#5e5e5e;">We can pass any of the standard parameters to <code style="font-size:15px; color:deeppink; background-color:white">control</code> so you can control things like <code style="font-size:15px; color:deeppink; background-color:white">amp:</code>, <code style="font-size:15px; color:deeppink; background-color:white">cutoff:</code>, and <code style="font-size:15px; color:deeppink; background-color:white">pan</code>. </p>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Non-controllable Parameters</span></p>

<p style="font-size:15px;color:#5e5e5e;">Some of the parameters can’t be controlled once the synth has started. This is the case for all the ADSR envelope parameters. You can find out which parameters are controllable by looking at their documentation in the help system. If the documentation says <em style="font-size:15px;color:darkorange;">Can not be changed once set</em> you know it’s not possible to control the parameters after the synth has started. </p>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Controlling FX</span></p>

<p style="font-size:15px;color:#5e5e5e;">It is also possible to control FX, although this is achieved in a slightly different way:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb do |r|
  play 50
  sleep 0.5
  control r, mix: 0.7
  play 55
  sleep 1
  control r, mix: 0.9
  sleep 1
  play 62
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Instead of using a variable, we use the goalpost parameters of the do/end block. Inside the <code style="font-size:15px; color:deeppink; background-color:white">|</code> bars, we need to specify a unique name for our running FX which we are free to use within the confines of the containing do/end block. This behaviour is identical to using parameterised functions.</p>

<p style="font-size:15px;color:#5e5e5e;">Now go and control some synths and FX!</p>

</font>