<font face="HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue">


<p style="font-size:15px;color:#5e5e5e;"> <span style="font-size:25px; color:white;background-color:deeppink;">Adding FX</span></p>

<p style="font-size:15px;color:#5e5e5e;">In this section we’ll look at a couple of FX: reverb and echo. We’ll
see how to use them, how to control their parameters and how to chain
them.</p>

<p style="font-size:15px;color:#5e5e5e;">Sonic Pi’s FX system uses blocks. So if you haven’t read section 5.1 you
might want to take a quick look and then head back.</p>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Reverb</span></p>

<p style="font-size:15px;color:#5e5e5e;">If we want to use reverb we write <code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb</code> as the special code
to our block like this:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Now play this code and you’ll hear it played with reverb. It sounds
good, doesn’t it! Everything sounds pretty nice with reverb.</p>

<p style="font-size:15px;color:#5e5e5e;">Now let’s look what happens if we have code outside the do/end block:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end

sleep 1
play 55
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Notice how the final <code style="font-size:15px; color:deeppink; background-color:white">play 55</code> isn’t played with reverb. This is because
it is <em style="font-size:15px;color:darkorange;">outside</em> the do/end block, so it isn’t captured by the reverb FX.</p>

<p style="font-size:15px;color:#5e5e5e;">Similarly, if you make sounds before the do/end block, they also won’t
be captured:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">play 55
sleep 1

with_fx :reverb do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end

sleep 1
play 55
</code></pre>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Echo</span></p>

<p style="font-size:15px;color:#5e5e5e;">There are many FX to choose from. How about some echo?</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :echo do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">One of the powerful aspects of Sonic Pi’s FX blocks is that they may be
passed parameters similar to parameters we’ve already seen with <code style="font-size:15px; color:deeppink; background-color:white">play</code>
and <code style="font-size:15px; color:deeppink; background-color:white">sample</code>. For example a fun echo parameter to play with is <code style="font-size:15px; color:deeppink; background-color:white">phase:</code>
which represents the duration of a given echo in seconds. Let’s make the
echo slower:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :echo, phase: 0.5 do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Let’s also make the echo faster:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :echo, phase: 0.125 do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Let’s make the echo take longer to fade away by setting the <code style="font-size:15px; color:deeppink; background-color:white">decay:</code>
time to 8 seconds:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :echo, phase: 0.5, decay: 8 do
  play 50
  sleep 0.5
  sample :elec_plip
  sleep 0.5
  play 62
end
</code></pre>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Nesting FX</span></p>

<p style="font-size:15px;color:#5e5e5e;">One of the most powerful aspects of the FX blocks is that you can nest
them. This allows you to very easily chain FX together. For example,
what if you wanted to play some code with echo and then with reverb?
Easy, just put one inside the other:</p>

<pre><code style="font-size:15px; color:deeppink; background-color:white">with_fx :reverb do
  with_fx :echo, phase: 0.5, decay: 8 do
    play 50
    sleep 0.5
    sample :elec_blup
    sleep 0.5
    play 62
  end
end
</code></pre>

<p style="font-size:15px;color:#5e5e5e;">Think about the audio flowing from the inside out. The sound of all
the code within the inner do/end block such as <code style="font-size:15px; color:deeppink; background-color:white">play 50</code> is first sent
to the echo FX and the sound of the echo FX is in turn sent out to the
reverb FX.</p>

<p style="font-size:15px;color:#5e5e5e;">We may use very deep nestings for crazy results. However, be warned, the
FX can use a lot of resources and when you nest them you’re effectively
running multiple FX simultaneously. So be sparing with your use of FX
especially on low powered platforms such as the Raspberry Pi.</p>

<br><p style="font-size:15px;color:#5e5e5e;"><span style="font-size:20px; color:white; background-color:dodgerblue;">Discovering FX</span></p>

<p style="font-size:15px;color:#5e5e5e;">Sonic Pi ships with a large number of FX for you to play with. To find
out which ones are available, click on FX in the far left of this help
system and you’ll see a list of available options. Here’s a list of
some of my favourites:</p>

<ul style="font-size:15px;color:#5e5e5e;">
  <li>wobble,</li>
  <li>reverb,</li>
  <li>echo,</li>
  <li>distortion,</li>
  <li>slicer</li>
</ul>

<p style="font-size:15px;color:#5e5e5e;">Now go crazy and add FX everywhere for some amazing new sounds!</p>
</font>