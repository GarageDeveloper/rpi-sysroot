!function(a){a.fn.registerPlugin=function(c,b){a.fn[b]=function(d,e){return this.each(function(){var g=a(this).data(b);var f=typeof d==="object"&&d;if(!g){g=new c(this,f);a(this).data(b,g)}if(typeof d==="string"){g[d](e);if(d==="destroy"){a(this).data(b,false)}}})};a.fn[b].plugin=c}}(window.jQuery);var Color=function(a){this.value={h:0,s:0,v:0,a:1,valid:false};this.format=null;this.input=a;if(a){if(a.toLowerCase!==undefined){this.setColor(a)}else{if(a.h!==undefined){this.value=a}}}};Color.prototype={constructor:Color,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_sanitizeNumber:function(a){if(typeof a==="number"){return a}if(isNaN(a)||(a===null)||(a==="")||(a===undefined)){return 1}if(a.toLowerCase!==undefined){return parseFloat(a)}return 1},copy:function(){return new Color($.extend(true,{},this.value))},setColor:function(a){a=a.toLowerCase();this.value=this.stringToHSV(a)||{h:0,s:0,v:0,a:1,valid:false};this.input=a},stringToHSV:function(b){b=b.toLowerCase().trim();var c=this,a=false;$.each(this.stringParsers,function(f,h){var e=h.re.exec(b),d=e&&h.parse.apply(c,[e]),g=h.format||"rgba";if(d){if(g.match(/hsla?/)){a=c.RGBtoHSV.apply(c,c.HSLtoRGB.apply(c,d))}else{a=c.RGBtoHSV.apply(c,d)}c.format=g;return false}return true});if(a){a.valid=true}return a},toRGB:function(f,l,j,g){if(f==undefined){f=this.value.h}if(l==undefined){l=this.value.s}if(j==undefined){j=this.value.v}if(g==undefined){g=this.value.a}f*=360;var e,k,c,d,b;f=(f%360)/60;b=j*l;d=b*(1-Math.abs(f%2-1));e=k=c=j-b;f=~~f;e+=[b,d,0,0,d,b][f];k+=[d,b,b,d,0,0][f];c+=[0,0,d,b,b,d][f];return{r:e,g:k,b:c,a:g}},toHex:function(f,e,c,b){var d=this.toRGB(f,e,c,b);return"#"+((1<<24)|(parseInt(d.r*255)<<16)|(parseInt(d.g*255)<<8)|parseInt(d.b*255)).toString(16).substr(1)},toHSL:function(j,g,d,c){if(j==undefined){j=this.value.h}if(g==undefined){g=this.value.s}if(d==undefined){d=this.value.v}if(c==undefined){c=this.value.a}var f=j,b=(2-g)*d,e=g*d;if(b>0&&b<=1){e/=b}else{e/=2-b}b/=2;if(e>1){e=1}return{h:isNaN(f)?0:f,s:isNaN(e)?0:e,l:isNaN(b)?0:b,a:isNaN(c)?0:c,valid:true}},toAlias:function(j,h,c,d){var e=this.toHex(j,h,c,d);for(var f in this.colors){if(this.colors[f]==e){return f}}return false},RGBtoHSV:function(k,j,c,e){var h,f,d,l;d=Math.max(k,j,c);l=d-Math.min(k,j,c);h=(l===0?null:d===k?(j-c)/l:d===j?(c-k)/l+2:(k-j)/l+4);h=((h+360)%6)*60/360;f=l===0?0:l/d;return{h:this._sanitizeNumber(h),s:f,v:d,a:this._sanitizeNumber(e),valid:true}},HueToRGB:function(c,b,a){if(a<0){a+=1}else{if(a>1){a-=1}}if((a*6)<1){return c+(b-c)*a*6}else{if((a*2)<1){return b}else{if((a*3)<2){return c+(b-c)*((2/3)-a)*6}else{return c}}}},HSLtoRGB:function(k,u,t,o){if(u<0){u=0}var d;if(t<=0.5){d=t*(1+u)}else{d=t+u-(t*u)}var e=2*t-d;var m=k+(1/3);var f=k;var j=k-(1/3);var c=this.HueToRGB(e,d,m);var l=this.HueToRGB(e,d,f);var n=this.HueToRGB(e,d,j);return[c,l,n,this._sanitizeNumber(o)]},toString:function(c){if(!c&&this.value.a==1){c="hex"}else{if(!c){c="rgba"}}switch(c){case"rgb":var b=this.toRGB();return"rgb("+Math.round(b.r*255)+", "+Math.round(b.g*255)+", "+Math.round(b.b*255)+")";break;case"rgba":var b=this.toRGB();return"rgba("+Math.round(b.r*255)+", "+Math.round(b.g*255)+", "+Math.round(b.b*255)+", "+b.a.toFixed(2)+")";break;case"hsl":var a=this.toHSL();return"hsl("+Math.round(a.h*360)+", "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%)";break;case"hsla":var a=this.toHSL();return"hsla("+Math.round(a.h*360)+", "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%, "+a.a+")";break;case"hex":return this.toHex();break;case"alias":return this.toAlias()||this.toString();default:return false;break}},stringParsers:[{re:/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,format:"hex",parse:function(a){return[parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1]}},{re:/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,format:"hex",parse:function(a){return[parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1]}},{re:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)$/,format:"rgb",parse:function(a){return[a[1]/255,a[2]/255,a[3]/255,1]}},{re:/^rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)$/,format:"rgb",parse:function(a){return[a[1]/100,a[2]/100,a[3]/100,1]}},{re:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/,format:"rgba",parse:function(a){return[a[1]/255,a[2]/255,a[3]/255,a[4]]}},{re:/^rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/,format:"rgba",parse:function(a){console.log(a[4]);return[a[1]/100,a[2]/100,a[3]/100,a[4]]}},{re:/^hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)$/,format:"hsl",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/^hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/,format:"hsla",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(c){var d=this.colorNameToHex(c[0]);if(!d){return false}var b=this.stringParsers[0].re.exec(d),a=b&&this.stringParsers[0].parse.apply(this,[b]);return a}}],colorNameToHex:function(a){if(typeof this.colors[a.toLowerCase()]!=="undefined"){return this.colors[a.toLowerCase()]}return false}};!function(b){function a(d,c){this.options=b.extend({},this.defaults,c);this.$handle=b(d);this.$dragging=false;this.$document=this.$handle[0].ownerDocument;this.buildData();this.buildContainer();this.buildHandle();this.buildEvents();this.updatePosition()}a.prototype={defaults:{},constructor:a,buildData:function(){this.$data={clickX:0,clickY:0,valX:(this.options.valX==undefined)?0:parseFloat(this.options.valX),minX:(this.options.minX==undefined)?0:parseFloat(this.options.minX),maxX:(this.options.maxX==undefined)?1:parseFloat(this.options.maxX),stepX:(this.options.stepX==undefined)?0:parseFloat(this.options.stepX),valY:(this.options.valY==undefined)?0:parseFloat(this.options.valY),minY:(this.options.minY==undefined)?0:parseFloat(this.options.minY),maxY:(this.options.maxY==undefined)?1:parseFloat(this.options.maxY),stepY:(this.options.stepY==undefined)?0:parseFloat(this.options.stepY)};this.buildReverse()},buildReverse:function(){this.$data.reverseX=this.$data.minX>=this.$data.maxX;if(this.$data.reverseX){b.extend(this.$data,{minX:this.$data.maxX,maxX:this.$data.minX})}this.$data.reverseY=this.$data.minY>=this.$data.maxY;if(this.$data.reverseY){b.extend(this.$data,{minY:this.$data.maxY,maxY:this.$data.minY})}},buildContainer:function(){this.$container=b(this.options.container||this.$handle.parent());this.$button=b(this.options.button||this.$container)},buildHandle:function(){this.$handle.css({position:"absolute"})},buildEvents:function(){b(this.$document).bind("MSPointerUp touchend mouseup",b.proxy(function(c){if(this.$container.is(":visible")&&this.$dragging){this.updateClick(c);this.moveTo();this.endDrag();c.stopPropagation();c.preventDefault()}},this)).bind("MSPointerDown touchstart mousedown",b.proxy(function(c){if(this.$container.is(":visible")&&!this.$dragging){this.updateClick(c);if(this.isClickInside()){this.moveTo();this.startDrag();c.stopPropagation();c.preventDefault();if(this.$button.is(":input")){this.$button.focus()}}}},this)).bind("MSPointerMove touchmove mousemove",b.proxy(function(c){if(this.$container.is(":visible")&&this.$dragging){this.updateClick(c);this.moveTo();this.moveDrag();c.stopPropagation();c.preventDefault()}},this));if(this.$button.is(":input")){this.$button.on("keydown",b.proxy(function(c){if(/^(13)$/.test(c.keyCode)){this.$button.closest("form").submit()}else{if(/^(37|38|39|40)$/.test(c.keyCode)){switch(c.keyCode){case 37:this.setX(this.$data.valX-this.$data.stepX);break;case 39:this.setX(this.$data.valX+this.$data.stepX);break;case 38:this.setY(this.$data.valY-this.$data.stepY);break;case 40:this.setY(this.$data.valY-this.$data.stepY);break}this.updatePosition();this.moveDrag();c.stopPropagation();c.preventDefault()}}},this))}},startDrag:function(){this.$dragging=true;if(this.options.start){this.options.start(this.fixedTo(this.$data.valX,this.$data.stepX),this.fixedTo(this.$data.valY,this.$data.stepY))}},moveDrag:function(){if(this.options.move){this.options.move(this.fixedTo(this.$data.valX,this.$data.stepX),this.fixedTo(this.$data.valY,this.$data.stepY))}},endDrag:function(){this.$dragging=false;if(this.options.end){this.options.end(this.fixedTo(this.$data.valX,this.$data.stepX),this.fixedTo(this.$data.valY,this.$data.stepY))}},isClickInside:function(c){return(this.$data.clickX>=0&&this.$data.clickX<=this.$container.width()&&this.$data.clickY>=0&&this.$data.clickY<=this.$container.height())},isTouch:function(c){return c.type.search("touch")>-1},updateClick:function(c){var d=this.$container.offset();if(!this.isTouch(c)){this.$data.clickX=c.pageX-d.left;this.$data.clickY=c.pageY-d.top}else{if(c.originalEvent.touches.length){this.$data.clickX=c.originalEvent.touches[0].pageX-d.left;this.$data.clickY=c.originalEvent.touches[0].pageY-d.top}else{this.$data.clickX=undefined;this.$data.clickY=undefined}}},getDecimals:function(c){c=(c+"").split(".")[1];if(c){return c.length}return 0},fixedTo:function(f,e){if(!e){return f}var d=this.getDecimals(e);var c=this.getDecimals(f);if(c>d){return f.toFixed(d)}return f.toFixed(c)},roundTo:function(d,c){if(c){return Math.round(d/c)*c}else{return d}},setX:function(c){this.$data.valX=this.roundTo(Math.min(Math.max(this.$data.minX,c),this.$data.maxX),this.$data.stepX)},setY:function(c){this.$data.valY=this.roundTo(Math.min(Math.max(this.$data.minY,c),this.$data.maxY),this.$data.stepY)},convertTo:function(e,d,c){return(e-d)/(c-d)},convertToReverse:function(e,d,c){return d+(c-d)*e},updatePosition:function(){var c=this.convertTo(this.$data.valX,this.$data.minX,this.$data.maxX);var d=this.convertTo(this.$data.valY,this.$data.minY,this.$data.maxY);if(this.$data.reverseX){c=1-c}if(this.$data.reverseY){d=1-d}if(this.options.axis=="x"){this.$handle.css({left:(c*100)+"%"})}else{if(this.options.axis=="y"){this.$handle.css({top:(d*100)+"%"})}else{this.$handle.css({left:(c*100)+"%",top:(d*100)+"%"})}}},moveTo:function(){if(this.$data.clickX==undefined||this.$data.clickY==undefined){return}var c=this.$data.clickX/this.$container.width();var d=this.$data.clickY/this.$container.height();c=Math.min(Math.max(0,c),1);d=Math.min(Math.max(0,d),1);if(this.$data.reverseX){c=1-c}if(this.$data.reverseY){d=1-d}c=this.convertToReverse(c,this.$data.minX,this.$data.maxX);d=this.convertToReverse(d,this.$data.minY,this.$data.maxY);this.setX(c);this.setY(d);this.updatePosition()}};b.fn.registerPlugin(a,"dragaround")}(window.jQuery);!function(b){function a(d,c){this.options=b.extend({},this.defaults,c);this.$original=b(d);this.buildButton();this.buildBar();this.buildContainer();this.buildHandle();this.buildOriginal();this.buildTooltip()}a.prototype={constructor:a,defaults:{templates:{container:'<div class="slider-drag"/>',handle:'<div class="slider-handle-wrapper"><div class="slider-handle"/></div>',bar:'<div class="slider-bar"/>',button:'<button type="button" class="slider"/>'}},buildContainer:function(){this.$container=b(this.options.templates.container);this.$button.append(this.$container)},buildBar:function(){this.$bar=b(this.options.templates.bar);this.$button.append(this.$bar)},buildButton:function(){this.$button=b(this.options.templates.button);this.$original.after(this.$button)},buildHandle:function(){this.$handle=b(this.options.templates.handle);this.$container.append(this.$handle);this.$handle.dragaround({container:this.$container,button:this.$button,axis:"x",valX:this.$original.val(),minX:this.$original.attr("min"),maxX:this.$original.attr("max"),stepX:this.$original.attr("step"),start:b.proxy(function(c,d){this.$tooltip.options.title=c;this.$tooltip.show()},this),move:b.proxy(function(c,d){this.$original.val(c);this.$tooltip.options.title=c;this.$tooltip.show()},this),end:b.proxy(function(c,d){this.$original.val(c);this.$tooltip.options.title=c;this.$tooltip.hide()},this)})},buildOriginal:function(){this.$original.addClass("slider-original").attr("type","hidden").attr("style","display:none").hide()},buildTooltip:function(){this.$tooltip=this.$handle.children().tooltip({title:this.$original.val(),trigger:"hover",animation:false}).data("bs.tooltip");this.$button.on("blur",b.proxy(function(){this.$tooltip.hide()},this))}};b.fn.registerPlugin(a,"slidercontrol")}(window.jQuery);!function(c){var a=0;"use strict";if(typeof ko!=="undefined"&&ko.bindingHandlers&&!ko.bindingHandlers.smartselect){ko.bindingHandlers.smartselect={init:function(h,j,k,g,e){var l=k().selectedOptions,f=ko.utils.unwrapObservable(j());c(h).smartselect(f);if(b(l)){l.subscribe(function(o){var m=[],n=[];o.forEach(function(p){switch(p.status){case"added":m.push(p.value);break;case"deleted":n.push(p.value);break}});if(m.length>0){c(h).smartselect("select",m)}if(n.length>0){c(h).smartselect("deselect",n)}},null,"arrayChange")}},update:function(k,l,m,j,e){var h=m().options,g=c(k).data("smartselect"),f=ko.utils.unwrapObservable(l());if(b(h)){h.subscribe(function(n){c(k).smartselect("rebuild")})}if(!g){c(k).smartselect(f)}else{g.updateOriginalOptions()}}}}function b(e){return ko.isObservable(e)&&!(e.destroyAll===undefined)}function d(e,f){this.options=this.mergeOptions(f);this.$select=c(e);this.$id="select-dropdown-"+a;a++;this.originalOptions=this.$select.clone()[0].options;this.searchTimeout=null;this.options.multiple=this.$select.attr("multiple")==="multiple";this.options.onChange=c.proxy(this.options.onChange,this);this.options.onDropdownShow=c.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=c.proxy(this.options.onDropdownHide,this);this.options.onMouseClick=c.proxy(this.options.onMouseClick,this);this.options.onKeyDown=c.proxy(this.options.onKeyDown,this);this.buildContainer();this.buildButton();this.buildSelectAll();this.buildDropdown();this.buildDropdownOptions();this.buildFilter();this.buildDropdownCaret();this.removeSelect();this.updateButtonText();this.updateSelectAll()}d.prototype={defaults:{buttonText:function(f,e){if(f.length===0){return this.nonSelectedText}else{if(f.length>this.numberDisplayed){return f.length+" "+this.nSelectedText}else{var g="";f.each(function(){var h=(c(this).attr("label")!==undefined)?c(this).attr("label"):c(this).html();g+=h+", "});return g.substr(0,g.length-2)}}},label:function(e){return c(e).attr("label")||c(e).html()},onChange:function(e,f){console.log("change")},onMouseClick:function(e){console.log("click");e.preventDefault()},onKeyDown:function(e){console.log("down")},onDropdownShow:function(e){console.log("dropdown show");this.$search.val("");this.refreshFilter();this.showFilter()},onDropdownHide:function(e){console.log("dropdown hide");this.hideFilter()},showInput:false,dropRight:false,selectedClass:"active",buttonWidth:"auto",maxHeight:false,checkboxName:null,includeSelectAllOption:false,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"smartselect-all",showFiltering:false,filterPlaceholder:"Search",preventInputChangeEvent:false,nonSelectedText:"None selected",nSelectedText:"selected",numberDisplayed:3,templates:{caret:'<i class="icon-dropdown text-muted form-control-feedback select-caret"></i>',container:'<div class="select"></div>',button:'<button type="button" class="smartselect dropdown-toggle"/>',ul:'<ul class="smartselect-dropdown dropdown-menu"></ul>',filter:'<li class="has-feedback"><input class="form-control select-search" type="search"><i class="glyphicon glyphicon-search icon-search form-control-feedback"></i></li>',li:'<li><a href="javascript:void(0);"><label></label></a></li>',divider:'<li class="divider"></li>',liGroup:'<li><label class="smartselect-group"></label></li>'}},constructor:d,removeSelect:function(){this.$select.hide().addClass("select-hidden")},buildContainer:function(){this.$container=c(this.options.templates.container).attr("id",this.$id).on("show.bs.dropdown",this.options.onDropdownShow).on("hide.bs.dropdown",this.options.onDropdownHide).on("click.bs.dropdown",this.options.onMouseClick);this.$select.after(this.$container);this.$container.on("keydown",c.proxy(function(h){if(!this.$button.is(":visible")){return}h.stopPropagation();if(/^(9|27)$/.test(h.keyCode)){if(this.$container.hasClass("open")){this.$button.trigger("click.bs.dropdown")}if(/^(9)$/.test(h.keyCode)){this.$button.focus()}return}else{if(/^(32|13)$/.test(h.keyCode)){if(h.keyCode===32&&this.$search.is(":focus")){return}if(this.$filter.is(".active")){h.stopPropagation();h.preventDefault();return}if(this.$container.hasClass("open")){this.$container.find("li.active input").change();this.$button.trigger("click.bs.dropdown")}return}else{if(/^(38|40)$/.test(h.keyCode)){h.preventDefault();if(!this.$container.hasClass("open")){this.$button.trigger("click.bs.dropdown");return}var j=c(this.$container).find("li:not(.divider):visible");if(!j.length){return}var e=j.index(j.filter(".active"));if(h.keyCode===38){if(e>0){e--}else{if(this.$container.hasClass("open")){this.$button.focus().trigger("click.bs.dropdown")}return}}else{if(h.keyCode===40&&e<j.length-1){e++}else{if(!~e){e=0}}}j.removeClass("active").find("input").removeAttr("checked");var g=j.eq(e);g.addClass("active");var f=g.find('input[type!="search"]');f.prop("checked",!f.prop("checked"));if(this.$filter.hasClass("active")){this.$search.filter(":not(:focus)").focus()}else{if(!this.$search.val()){this.$button.focus()}}}else{if(/^(37|39)$/.test(h.keyCode)&&!this.$filter.is(":visible")){}else{if(/^(16|17|18|20|91)$/.test(h.keyCode)){return}else{if(this.$search){if(!String.fromCharCode(h.keyCode).trim()){return}if(c(this.$container).find("li:not(.divider)").length<=11){return}if(!this.$container.hasClass("open")){this.$button.trigger("click.bs.dropdown")}this.$filter.filter(":not(:visible)").show();this.$search.filter(":not(:focus)").focus();if(/^(13)$/.test(h.keyCode)){h.stopPropagation();h.preventDefault();return}clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(c.proxy(this.refreshFilter,this),100,this)}}}}}}},this))},buildDropdownCaret:function(){this.$caret=c(this.options.templates.caret).attr("data-target","#"+this.$id).attr("data-toggle","dropdown").attr("style","cursor:pointer");this.$button.after(this.$caret);this.$caret.closest(".form-group").addClass("has-feedback")},buildButton:function(){this.$button=c(this.options.templates.button);for(var f=0;f<this.$select[0].attributes.length;f++){var e=this.$select[0].attributes[f];if(!/^(value|name|id|type)$/.test(e.name)){this.$button.attr(e.name,e.value)}}this.$button.attr("data-target","#"+this.$id).attr("data-toggle","dropdown").off("keydown.bs.dropdown.data-api").closest(".form-group").addClass("has-feedback");if(this.$select.prop("disabled")){this.disable()}else{this.enable()}if(this.options.buttonWidth&&this.options.buttonWidth!=="auto"){this.$button.css({width:this.options.buttonWidth})}var g=this.$select.attr("tabindex");if(g){this.$button.attr("tabindex",g)}this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=c(this.options.templates.ul);if(this.options.dropRight){this.$ul.addClass("pull-right")}if(this.options.maxHeight){this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(c.proxy(function(f,g){var e=c(g).prop("tagName").toLowerCase();if(e==="optgroup"){this.createOptgroup(g)}else{if(e==="option"){if(c(g).data("role")==="divider"){this.createDivider()}else{this.createOptionValue(g)}}}},this));c("li input",this.$ul).on("change",c.proxy(function(f){var g=c(f.target);var p=g.prop("checked")||false;var r=g.val()===this.options.selectAllValue;if(this.options.selectedClass){if(p){g.parents("li").addClass(this.options.selectedClass)}else{g.parents("li").removeClass(this.options.selectedClass)}}var o=g.val();var e=this.getOptionByValue(o);var m=c("option",this.$select).not(e);var l=c("input",this.$container).not(g);if(r){var q=[];var n=c('li input[value!="'+this.options.selectAllValue+'"][data-role!="divider"]',this.$ul).filter(":visible");for(var k=0,h=n.length;k<h;k++){q.push(n[k].value)}if(p){this.select(q)}else{this.deselect(q)}}if(p){e.prop("selected",true);if(this.options.multiple){e.prop("selected",true)}else{if(this.options.selectedClass){c(l).parents("li").removeClass(this.options.selectedClass)}c(l).prop("checked",false);m.prop("selected",false);this.$button.trigger("click.bs.dropdown")}if(this.options.selectedClass==="active"){m.parents("a").css("outline","")}}else{e.prop("selected",false)}this.$select.change();this.options.onChange(e,p);this.updateButtonText();this.updateSelectAll();if(this.options.preventInputChangeEvent){return false}},this));c("li a",this.$ul).on("touchstart click",function(e){e.stopPropagation();c(e.target).find("input").change()})},createOptionValue:function(f){if(c(f).is(":selected")){c(f).prop("selected",true)}var e=this.options.label(f);var k=c(f).val();var j=this.options.multiple?"checkbox":"radio";var l=c(this.options.templates.li);c("label",l).append('<input type="'+j+(this.options.checkboxName?('" name="'+this.options.checkboxName):"")+'" />');var h=c(f).prop("selected")||false;var g=c("input",l);g.val(k);if(k===this.options.selectAllValue){g.parent().parent().addClass("smartselect-all")}if(this.options.showInput){c("label",l).addClass(j);c("label",l).append(' <span class="'+j+'-label label-text">'+e+"</span>")}else{c("label",l).append(' <span class="label-text">'+e+"</span>").addClass("dropdown-label");g.hide()}l.attr("data-label",e);this.$ul.append(l);if(c(f).is(":disabled")){g.attr("disabled","disabled").prop("disabled",true).parents("li").addClass("disabled")}g.prop("checked",h);if(h&&this.options.selectedClass){g.parents("li").addClass(this.options.selectedClass)}},createDivider:function(f){var e=c(this.options.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var g=c(e).prop("label");var f=c(this.options.templates.liGroup);c("label",f).text(g);this.$ul.append(f);if(c(e).is(":disabled")){f.addClass("disabled")}c("option",e).each(c.proxy(function(h,j){this.createOptionValue(j)},this))},buildSelectAll:function(){var e=this.hasSelectAll();if(!e&&this.options.includeSelectAllOption&&this.options.multiple&&c('option[data-role!="divider"]',this.$select).length>this.options.includeSelectAllIfMoreThan){if(this.options.includeSelectAllDivider){this.$select.prepend('<option value="" disabled="disabled" data-role="divider">')}this.$select.prepend('<option value="'+this.options.selectAllValue+'">'+this.options.selectAllText+"</option>")}},refreshFilter:function(){c.each(c("li",this.$ul),c.proxy(function(h,j){var m=c("input",j).val();var g=c(j).attr("data-label");if(m!==this.options.selectAllValue&&g){var e=g;if(this.$search.val().trim()!==""){var f="";var l="";c.each(this.$search.val().trim().replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&").split(/\s{1,}/g),function(n,o){f+="(?=.*"+o+")";if(!l==""){l+="|"}l+=o});var k=g.match(new RegExp(f,"ig"));if(k){e=g.replace(new RegExp("("+l+")","ig"),function(n,o){return"<strong>"+o+"</strong>"})}}else{var k=true}if(k){c(j).show().find(".label-text").html(e)}else{c(j).hide()}}},this))},buildFilter:function(){this.$filter=c(this.options.templates.filter);this.$search=this.$filter.find("[type=search]").on("click",c.proxy(function(e){e.stopPropagation();this.$container.find("li.active").removeClass("active");this.$filter.addClass("active")},this));c("input",this.$filter).attr("placeholder",this.options.filterPlaceholder);this.$ul.prepend(this.$filter);this.$filter.val("").on("click",function(e){e.stopPropagation()});this.showFilter()},showFilter:function(){if(this.options.showFiltering){this.$filter.show();this.$search.val("")}else{this.$filter.hide()}},hideFilter:function(){},destroy:function(){this.$container.remove();this.$select.show();this.$select.data("smartselect",null)},refresh:function(){c("option",this.$select).each(c.proxy(function(e,f){var g=c("li input",this.$ul).filter(function(){return c(this).val()===c(f).val()});if(c(f).is(":selected")){g.prop("checked",true);if(this.options.selectedClass){g.parents("li").addClass(this.options.selectedClass)}}else{g.prop("checked",false);if(this.options.selectedClass){g.parents("li").removeClass(this.options.selectedClass)}}if(c(f).is(":disabled")){g.attr("disabled","disabled").prop("disabled",true).parents("li").addClass("disabled")}else{g.prop("disabled",false).parents("li").removeClass("disabled")}g.attr("data-label",c(f).text())},this));this.updateButtonText();this.updateSelectAll()},select:function(j){if(!c.isArray(j)){j=[j]}for(var e=0;e<j.length;e++){var g=j[e];var h=this.getOptionByValue(g);var f=this.getInputByValue(g);if(this.options.selectedClass){f.parents("li").addClass(this.options.selectedClass)}f.prop("checked",true);h.prop("selected",true)}this.updateButtonText()},clearSelection:function(){var f=this.getSelected();if(f.length){var g=[];for(var e=0;e<f.length;e=e+1){g.push(f[e].value)}this.deselect(g);this.$select.change()}},deselect:function(e){if(!c.isArray(e)){e=[e]}for(var f=0;f<e.length;f++){var h=e[f];var j=this.getOptionByValue(h);var g=this.getInputByValue(h);if(this.options.selectedClass){g.parents("li").removeClass(this.options.selectedClass)}g.prop("checked",false);j.prop("selected",false)}this.updateButtonText()},rebuild:function(){this.$ul.html("");c('option[value="'+this.options.selectAllValue+'"]',this.$select).remove();this.options.multiple=this.$select.attr("multiple")==="multiple";this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll()},dataprovider:function(e){var f="";e.forEach(function(g){f+='<option value="'+g.value+'">'+g.label+"</option>"});this.$select.html(f);this.rebuild()},enable:function(){this.$select.prop("disabled",false);this.$button.prop("disabled",false).removeClass("disabled")},disable:function(){this.$select.prop("disabled",true);this.$button.prop("disabled",true).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(e){return c.extend(true,{},this.defaults,e)},hasSelectAll:function(){return c('option[value="'+this.options.selectAllValue+'"]',this.$select).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var e=this.getSelected();if(e.length===c("option:not([data-role=divider])",this.$select).length-1){this.select(this.options.selectAllValue)}else{this.deselect(this.options.selectAllValue)}}},updateButtonText:function(){var f=this.getSelected();if(this.$button.is("input")){this.$button.val(this.options.buttonText(f,this.$select))}else{var e=this.$button.find(".select-text");if(e.length==0){e=c('<span class="select-text"></span>');this.$button.append(e)}e.text(this.options.buttonText(f,this.$select))}this.$button.focus()},getSelected:function(){return c('option[value!="'+this.options.selectAllValue+'"]:selected',this.$select).filter(function(){return c(this).prop("selected")})},getOptionByValue:function(h){var e=c("option",this.$select);var j=h.toString();for(var f=0;f<e.length;f=f+1){var g=e[f];if(g.value===j){return c(g)}}},getInputByValue:function(h){var g=c("li input",this.$ul);var j=h.toString();for(var e=0;e<g.length;e=e+1){var f=g[e];if(f.value===j){return c(f)}}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(h,g,e){var f=Array.prototype.slice.call(arguments,3);return setTimeout(function(){h.apply(e||window,f)},g)}};c.fn.registerPlugin(d,"smartselect")}(window.jQuery);!function(d){function a(f,e){this.options=d.extend({},this.defaults,e);this.$container=d(f);this.buildData();this.buildPicker()}a.prototype={constructor:a,defaults:{templates:{picker:'<div class="color-setter">                    <div class="color-setter-controls-base">                        <div class="color-setter-controls-hsl">                            <div class="color-setter-saturation">                                <div class="color-setter-handle"/>                            </div>                            <div class="color-setter-hue">                                <div class="color-setter-handle"/>                            </div>                        </div>                        <div class="color-setter-controls-alpha">                            <div class="color-setter-alpha">                                <div class="color-setter-handle"/>                            </div>                            <div class="color-setter-comparison">                                <div class="color-setter-previous"/>                                <div class="color-setter-current update-current"/>                            </div>                        </div>                    </div>                    <div class="color-setter-controls-advanced">                        <div class="color-control-group">                            <div class="color-control">                                <label class="control-label">R</label>                                <input type="number" min="0" max="255" step="1" class="form-control input-sm" data-component="r"/>                            </div>                            <div class="color-control">                                <label class="control-label">G</label>                                <input type="number" min="0" max="255" step="1" class="form-control input-sm" data-component="g"/>                            </div>                            <div class="color-control">                                <label class="control-label">B</label>                                <input type="number" min="0" max="255" step="1" class="form-control input-sm" data-component="b"/>                            </div>                        </div>                        <div class="color-control-group">                            <div class="color-control">                                <label class="control-label">H</label>                                <input type="number" min="0" max="360" step="1" class="form-control input-sm" data-component="h"/>                            </div>                            <div class="color-control">                                <label class="control-label">S</label>                                <input type="number" min="0" max="100" step="1" class="form-control input-sm" data-component="s"/>                            </div>                            <div class="color-control">                                <label class="control-label">V</label>                                <input type="number" min="0" max="100" step="1" class="form-control input-sm" data-component="v"/>                            </div>                        </div>                        <div class="color-control-group">                            <div class="color-control">                                <label class="control-label">A</label>                                <input type="number" min="0" max="1" step="0.01" class="form-control input-sm" data-component="a"/>                            </div>                        </div>                    </div>                    <div class="color-setter-footer">                        <button class="color-setter-advanced btn btn-default btn-sm" type="button">                            <i class="glyphicon glyphicon-cog"></i>                            Advanced                        </button>                        <button class="color-setter-cancel btn btn-default btn-sm" type="button">                            <i class="glyphicon glyphicon-remove"></i>                            Cancel                        </button>                        <button class="color-setter-ok btn btn-primary btn-sm pull-right" type="button">                            <i class="glyphicon glyphicon-ok"></i>                            Ok                        </button>                    </div>                </div>'}},buildData:function(){this.$color=new Color(this.options.color)},buildPicker:function(){this.$picker=d(this.options.templates.picker);this.$container.append(this.$picker);function g(j,k){this.updateHSV(undefined,j,k,undefined);this.updateControl(true,false,true)}this.$saturation=this.$container.find(".color-setter-saturation");this.$saturationHandle=this.$saturation.find(".color-setter-handle").dragaround({start:d.proxy(g,this),move:d.proxy(g,this),end:d.proxy(g,this),minY:1,maxY:0,valX:this.$color.s,valY:this.$color.v});function h(j,k){this.updateHSV(k,undefined,undefined,undefined);this.updateControl(true,false,true)}this.$hue=this.$container.find(".color-setter-hue");this.$hueHandle=this.$hue.find(".color-setter-handle").dragaround({axis:"y",start:d.proxy(h,this),move:d.proxy(h,this),end:d.proxy(h,this),minY:1,maxY:0,valY:this.$color.h});function f(j,k){this.updateHSV(undefined,undefined,undefined,j);this.updateControl(true,false,true)}this.$alpha=this.$container.find(".color-setter-alpha");this.$alphaHandle=this.$alpha.find(".color-setter-handle").dragaround({axis:"x",start:d.proxy(f,this),move:d.proxy(f,this),end:d.proxy(f,this),minX:1,maxX:0,valX:this.$color.a});this.$current=this.$container.find(".color-setter-current").on("click",d.proxy(function(){this.$previous.trigger("click")},this));this.$previous=this.$container.find(".color-setter-previous").css("backgroundColor",this.$color.toString()).on("click",d.proxy(function(){var j=new Color(this.$previous.css("backgroundColor"));this.$previous.css({backgroundColor:this.$color.toString()});this.$color=j;this.updateControl(true,true,true)},this));this.$ok=this.$container.find(".color-setter-ok").on("click",d.proxy(function(){if(this.options.ok){this.options.ok()}},this));this.$cancel=this.$container.find(".color-setter-cancel").on("click",d.proxy(function(){this.$color=new Color(this.$cancel.attr("data-color"));this.updateControl(true,true,true);if(this.options.cancel){this.options.cancel()}},this));this.$advancedContainer=this.$container.find(".color-setter-controls-advanced").hide();this.$advanced=this.$container.find(".color-setter-advanced").on("click",d.proxy(function(){if(this.$advancedContainer.is(":visible")){this.$advancedContainer.hide();this.$advanced.removeClass("active")}else{this.$advancedContainer.show();this.$advanced.addClass("active");this.updateControl(false,false,true)}},this));var e=this;this.$advancedControl=this.$advancedContainer.find(":input").on("keydown",function(j){if(j.keyCode==13){d(this).trigger("change");j.preventDefault();j.stopPropagation()}}).on("change",function(k){var j=d(this);var l=d.fn.dragaround.plugin.prototype.convertTo(parseFloat(j.val()),parseFloat(j.attr("min")),parseFloat(j.attr("max")));l=Math.max(0,Math.min(l,1));if(l||l==0){var m={};m[j.attr("data-component")]=l;e.updateWithArray(m)}e.updateControl(true,true,true);k.preventDefault();k.stopPropagation()})},updateWithArray:function(e){if("r" in e||"g" in e||"b" in e){return this.updateRGB(e.r,e.g,e.b,e.a)}return this.updateHSV(e.h,e.s,e.v,e.a)},updateRGB:function(k,j,e,f){var h=this.$color.toRGB();if(k!==undefined){h.r=k}if(j!==undefined){h.g=j}if(e!==undefined){h.b=e}if(f!==undefined){h.a=f}h=this.$color.RGBtoHSV(h.r,h.g,h.b,h.a);return this.updateHSV(h.h,h.s,h.v,h.a)},updateHSV:function(j,g,f,e){if(j!==undefined){this.$color.value.h=j}if(g!==undefined){this.$color.value.s=g}if(f!==undefined){this.$color.value.v=f}if(e!==undefined){this.$color.value.a=e}this.$color.value.valid=true;this.$color.input=null;this.$color.format="hsl"},updateControl:function(e,l,k){var j=this.$color;var f=new Color({h:this.$color.value.h,s:1,v:1,a:1});var h=new Color({h:this.$color.value.h,s:this.$color.value.s,v:this.$color.value.v,a:1});j=j.toString();h=h.toString();f=f.toString();this.$saturation.css({backgroundColor:f});this.$alpha.css({backgroundColor:h});this.$container.find(".update-current").css({backgroundColor:j});if(e&&this.options.change){this.options.change(this.$color)}if(l){this.$saturationHandle.dragaround("setX",this.$color.value.s);this.$saturationHandle.dragaround("setY",this.$color.value.v);this.$saturationHandle.dragaround("updatePosition");this.$alphaHandle.dragaround("setX",this.$color.value.a);this.$alphaHandle.dragaround("updatePosition");this.$hueHandle.dragaround("setY",this.$color.value.h);this.$hueHandle.dragaround("updatePosition")}if(k&&this.$advancedContainer.is(":visible")){var g=d.extend(this.$color.toRGB(this.$color.value.h,this.$color.value.s,this.$color.value.v,this.$color.value.a),this.$color.value);d.each(this.$advancedControl,function(){var m=d(this);var n=g[m.attr("data-component")]*m.attr("max");n=d.fn.dragaround.plugin.prototype.convertToReverse(g[m.attr("data-component")],parseFloat(m.attr("min")),parseFloat(m.attr("max")));n=d.fn.dragaround.plugin.prototype.fixedTo(n,parseFloat(m.attr("step")));m.val(n)})}}};var b=null;function c(f,e){this.options=d.extend({},this.defaults,e);this.$original=d(f);this.buildContainer();this.buildInput();this.buildDropdown();this.buildAddon();this.buildData();this.updateControl(false,true,true)}c.prototype={constructor:c,defaults:{templates:{container:'<div class="color-setter-control"/>',addon:'<div class="color-setter-addon" data-toggle="dropdown"><div class="color-setter-color update-current"/></div>',dropdown:'<div class="dropdown-menu"/>'}},buildData:function(){this.$color=new Color(this.$original.val())},buildContainer:function(){this.$container=d(this.options.templates.container);this.$original.after(this.$container)},buildInput:function(){this.$original.attr("type","input").addClass("form-control").on("keyup",d.proxy(function(e){if(/^(38|40)$/.test(e.keyCode)){if(e.keyCode==38&&this.$container.hasClass("open")){this.$addon.trigger("click.bs.dropdown")}if(e.keyCode==40&&!this.$container.hasClass("open")){this.$addon.trigger("click.bs.dropdown")}e.preventDefault();e.stopPropagation();return}this.buildData();this.updateControl(false);this.buildSetter()},this)).on("click",d.proxy(function(e){if(this.$container.hasClass("open")){e.stopPropagation()}},this));this.$container.append(this.$original)},buildAddon:function(){this.$addon=d(this.options.templates.addon).off("keydown.bs.dropdown.data-api");this.$original.after(this.$addon)},buildDropdown:function(){this.$dropdown=d(this.options.templates.dropdown).on("click",function(e){e.stopPropagation()});this.$original.after(this.$dropdown);this.$container.on("show.bs.dropdown",d.proxy(function(){this.buildSetter();this.$setterAPI.$previous.css({backgroundColor:this.$color.toString()});this.$setterAPI.$cancel.attr("data-color",this.$original.val())},this))},buildSetter:function(){if(!b){b=d("<div/>").colorsetter()}this.$setter=b;this.$dropdown.append(this.$setter);this.$setterAPI=b.data("colorsetter");this.$setterAPI.$color=this.$color;this.$setterAPI.options.change=d.proxy(function(e){this.$color=e;this.updateControl(true)},this);this.$setterAPI.options.ok=d.proxy(function(){if(this.$container.hasClass("open")){this.$addon.trigger("click.bs.dropdown")}},this);this.$setterAPI.options.cancel=d.proxy(function(){if(this.$container.hasClass("open")){this.$addon.trigger("click.bs.dropdown")}},this);this.$setterAPI.updateControl(false,true,true)},updateControl:function(e){var f=this.$color.toString();if(this.$color.value.valid){this.$addon.addClass("success")}else{this.$addon.removeClass("success")}this.$addon.children().css({backgroundColor:f});if(e&&this.$color.input){this.$original.val(this.$color.input)}if(e&&!this.$color.input){this.$original.val(f)}if(e&&!this.$color.value.valid&&!this.$color.input){this.$original.val("")}}};d.fn.registerPlugin(a,"colorsetter");d.fn.registerPlugin(c,"colorcontrol")}(window.jQuery);!function(b){function a(d,c){this.options=b.extend({},this.defaults,c);this.$original=b(d);this.buildContainer();this.buildAddon();this.buildInput();this.buildRemove();this.buildBrowse();this.buildCapture();this.refresh()}a.prototype={constructor:a,defaults:{templates:{container:'<div class="input-group"/>',input:'<input type="text" class="form-control disabled file-label" readonly disabled>',remove:'<div class="input-group-btn file-close">                            <div class="btn btn-default">                                &times;                            </div>                        </div>',addon:'<div class="input-group-btn"/>',browse:'<div class="btn btn-file btn-default">                            <i class="glyphicon glyphicon-folder-open"></i>                            Browse                        </div>',camera:'<div class="btn btn-file btn-default hidden-sm hidden-md hidden-lg">                            <i class="glyphicon glyphicon-camera"></i>                        </div>',microphone:'<div class="btn btn-file btn-default hidden-sm hidden-md hidden-lg">                            <i class="glyphicon glyphicon-volume-up"></i>                        </div>'},capture:undefined},buildContainer:function(){this.$container=b(this.options.templates.container);this.$original.after(this.$container)},buildAddon:function(){this.$addon=b(this.options.templates.addon);this.$container.append(this.$addon)},buildInput:function(){this.$input=b(this.options.templates.input);this.$container.append(this.$input)},buildRemove:function(){this.$remove=b(this.options.templates.remove).on("click",b.proxy(function(){this.$remove.detach();this.$input.val("");this.$original.val("")},this))},buildBrowse:function(){this.$browse=b(this.options.templates.browse);this.$addon.append(this.$browse);this.$addon.find(".btn-file").append(this.$original);this.$original.removeAttr("capture").on("change",b.proxy(this.refresh,this))},buildCapture:function(){if(this.options.capture==undefined||this.options.capture==true){if(this.$original.attr("data-field-name")=="Image"){this.options.capture="camera"}if(this.$original.attr("data-field-name")=="Sound"){this.options.capture="microphone"}if(this.$original.attr("capture")){this.$original.attr("capture")}}if(this.options.capture){this.$capture=b(this.options.templates[this.options.capture]).on("click",b.proxy(function(){this.$original.attr("capture",this.options.capture).trigger("click").removeAttr("capture")},this));this.$addon.append(this.$capture)}},refresh:function(){var c=this.$original.get(0).files?this.$original.get(0).files.length:1;if(c==1){this.$container.append(this.$remove);this.$input.val(this.$original.val().replace(/\\/g,"/").replace(/.*\//,""))}else{if(c>1){this.$container.append(this.$remove);this.$input.val(c+" files selected")}else{this.$remove.detach()}}}};b.fn.registerPlugin(a,"filesetter")}(window.jQuery);!function(a){function b(d,c){this.options=a.extend({},this.defaults,c);this.$original=a(d);this.buildInput();this.buildGroup();this.buildAddon()}b.prototype={constructor:b,defaults:{templates:{addon:'<div class="icon-wolfram smart-icon form-control-feedback"/>'},groupClasses:"has-feedback form-group-smart",inputClasses:"smart-input",popover:{trigger:"hover",placement:"bottom",html:true,template:'<div class="popover popover-smart-control"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'}},buildInput:function(){this.$input=this.$original;if(this.options.inputClasses){this.$input.addClass(this.options.groupClasses)}},buildGroup:function(){this.$group=this.$original.closest(".form-group");if(this.options.groupClasses){this.$group.addClass(this.options.groupClasses)}},buildAddon:function(){this.$addon=a(this.options.templates.addon);if(this.$addon.hasClass("smart-icon")&&this.$addon.hasClass("form-control-feedback")){if(this.$original.hasClass("input-sm")){this.$addon.addClass("form-control-feedback-sm")}else{if(this.$original.hasClass("input-lg")){this.$addon.addClass("form-control-feedback-lg")}else{this.$addon.addClass("form-control-feedback-md")}}}this.$original.closest("[class^='col-']").append(this.$addon);this.$addon.popover(a.extend(true,this.options.popover,{content:this.popoverContent()}))},popoverContent:function(){var c=this.$original.attr("data-field-prompt");var e=this.$original.attr("data-field-verbose")||this.$original.attr("data-field-name");var d=this.$original.attr("data-field-examples");if(c){c=c.split("||")}if(!c){c={}}if(!c[0]){c[0]="Enter any "+e}if(!c[1]){c[1]="(Or anything specifying one)"}c[0]=c[0].replace(new RegExp(e,"i"),function(h,j){return"<strong>"+h+"</strong>"});var g='<h5 class="page-header smart-control-header">Wolfram Smart Field</h5>';g+='<p class="smart-control-description">';g+=c[0];g+="<br/>";g+="<small>"+c[1]+"</small>";g+="</p>";if(d){d=d.split("||");g+='<div class="smart-control-example-title">Examples:</div>';g+='<div class="smart-control-example-list">';for(var f in d){g+='<div class="smart-control-example">'+d[f]+"</div>"}g+="</div>"}return g}};a.fn.registerPlugin(b,"smartcontrol")}(window.jQuery);!function(a){function b(d,c){this.options=a.extend({},this.defaults,c);this.$original=a(d);this.buildCloser();this.buildContainer();this.buildSelect();this.buildInput();this.buildHelp()}b.prototype={constructor:b,defaults:{templates:{container:'<div class="input-group smart-select-cont"/>',input:'<input type="text" class="form-control"/>',closer:'<div class="input-group-btn"><div class="btn btn-default">&times;</div></div>'}},buildContainer:function(){this.$container=a(this.options.templates.container);this.$original.wrapInner(this.$container)},buildSelect:function(){var c=this;this.$select=this.$original.find("button[data-field-type=Semantic],button[data-field-type=Computed]").on("keydown.bs.dropdown.data-api",function(d){var e=c.$selectContainer.hasClass("open");if(/^(8)$/.test(d.keyCode)){c.hideSelect(d)}else{if(/^(37)$/.test(d.keyCode)){a(this).closest(".select").prevAll(".select").find(".form-control").focus();if(e){a(this).trigger("click.bs.dropdown")}}else{if(/^(39)$/.test(d.keyCode)){a(this).closest(".select").nextAll(".select").find(".form-control").focus();if(e){a(this).trigger("click.bs.dropdown")}}else{if(/^(38)$/.test(d.keyCode)&&!e){c.hideSelect(d)}}}}});this.$selectContainer=this.$original.find(".select");this.$hidden=this.$original.closest(".form-group").find(".select-hidden");this.$selectContainer.each(function(){var d=a(this);d.children("button").append(d.children(".form-control-feedback").removeClass("form-control-feedback"))});this.$original.find(".disambiguation-text").addClass("form-control readonly").attr("readonly","readonly").each(function(){if(!a(this).text().trim()){a(this).hide()}});this.$original.prepend(this.$hidden)},buildInput:function(){this.$input=a(this.options.templates.input);this.$original.prepend(this.$input);for(i=0;i<this.$select[0].attributes.length;i++){var c=this.$select[0].attributes[i];if(!/^(value|name|id|type|data-toggle|data-trigger|style)$/.test(c.name)){this.$input.attr(c.name,c.value)}}this.$input.smartcontrol().on("click focus",a.proxy(function(d){if(this.$select.is(":visible")){this.$select.first()[d.type]();d.stopPropagation();d.preventDefault()}},this)).on("keydown",a.proxy(function(d){if(/^(38|40)$/.test(d.keyCode)&&!this.$select.is(":visible")){if(/^(40)$/.test(d.keyCode)){this.restoreSelect(d)}d.preventDefault();d.stopPropagation()}},this))},buildCloser:function(){this.$closer=a(this.options.templates.closer).on("click",a.proxy(this.hideSelect,this));this.$original.prepend(this.$closer)},buildHelp:function(){this.$help=this.$original.closest(".form-group").find(".help-error");if(/^(Review the choice. You typed )/.test(this.$help.text())){var c=a('<a class="help-input" href="#"></a>').html(this.$original.attr("data-field-input")).on("click",a.proxy(this.hideSelect,this));this.$help.html("Review the choice. ").append(a('<span class="glyphicon glyphicon-question-sign help-message help-icon"></span> ').popover({content:"Submit the form to use this choice",trigger:"hover",placement:"right"})).append(' <span class="help-message">You typed</span> ').append(c)}this.$didYouMean=a('<p class="help-block help-error"><span class="help-hint">Did you mean:</span> <a class="help-input" href="#"></a></p>');this.$help.after(this.$didYouMean);this.$didYouMean.hide().on("click",a.proxy(this.restoreSelect,this))},restoreSelect:function(c){this.$input.removeAttr("name").val("");this.$hidden.removeAttr("disabled");this.$original.find(".smart-select-cont").show();this.$select.first().focus();this.$didYouMean.hide();this.$help.show();if(c){c.stopPropagation()}if(c){c.preventDefault()}},hideSelect:function(c){this.$hidden.attr("disabled","disabled");if(this.$selectContainer.hasClass("open")){this.$select.trigger("click.bs.dropdown")}this.$original.find(".smart-select-cont").hide();this.$help.hide();this.$didYouMean.show().find(".help-input").html(this.$original.find(".select-text,.disambiguation-text").text());this.$input.attr("name",this.$hidden.attr("name")).val(this.$original.attr("data-field-input")).focus();if(c){c.stopPropagation()}if(c){c.preventDefault()}}};a.fn.registerPlugin(b,"disambiguationcontrol")}(window.jQuery);$(document).ready(function(){$('[type="range"]').slidercontrol()});$(document).ready(function(){$("select").smartselect()});$(document).ready(function(){$('[type="color"]').colorcontrol()});$(document).ready(function(){$(":file:not(.image-capture)").filesetter()});$(document).ready(function(){$(".image-capture").each(function(h,j){var m=$(this);m.attr("type","hidden");var c=$('<div class="thumbnail"></div>');m.after(c);c.append('<video class="img-responsive" style="width:100%" id="'+m.attr("id")+'_video"></video>');c.append('<img class="img-responsive" style="width:100%" id="'+m.attr("id")+'_img"></img>');c.append('<canvas id="'+m.attr("id")+'_canvas"></canvas>');c.append('<div class="caption"><button id="'+m.attr("id")+'_button" class="btn btn-primary"><i class="glyphicon glyphicon-camera"></i> Shoot a photo</button></div>');var k=false,e=$("#"+m.attr("id")+"_video"),f=$("#"+m.attr("id")+"_canvas"),b=$("#"+m.attr("id")+"_img"),g=$("#"+m.attr("id")+"_button"),d=200,l=0;f.hide();b.hide();navigator.getMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);navigator.getMedia({video:true,audio:false},function(o){if(navigator.mozGetUserMedia){e[0].mozSrcObject=o}else{var n=window.URL||window.webkitURL;e[0].src=n?n.createObjectURL(o):o}e[0].play()},function(n){console.log("An error occured! "+n)});e[0].addEventListener("canplay",function(n){if(!k){l=e[0].videoHeight/(e[0].videoWidth/d);e.attr("width",d);e.attr("height",l);f.attr("width",d);f.attr("height",l);k=true}},false);function a(){f.attr("width",d);f.attr("height",l);f[0].getContext("2d").drawImage(e[0],0,0,d,l);var n=f[0].toDataURL("image/jpeg");m.attr("value",n);b.attr("src",n);e.hide();b.show()}g[0].addEventListener("click",function(n){n.preventDefault();a()},false)})});$(document).ready(function(){$("input[data-field-type=Semantic],input[data-field-type=Computed]").smartcontrol()});$(document).ready(function(){$(".disambiguation-control").disambiguationcontrol()});$(document).ready(function(){$(":input:visible").each(function(b){var a=$(this);if(a.attr("type")!=="hidden"){if(b==0){a.focus()}a.attr("tabindex",b+1)}})});$(document).ready(function(){$('[data-toggle="popover"]').popover({html:true});$('[data-toggle="tooltip"]').tooltip()});$(document).ready(function(){var a=$('<div class="wolfram-branding dropup">            <a class="wolfram-branding-cloud" href="http://www.wolfram.com/cloud/" target="_blank" data-toggle="dropdown"></a>            <ul class="wolfram-branding-menu dropdown-menu">                <!-- Dropdown menu links -->                <a class="wolfram-branding-link-primary" target="_blank" href="http://www.wolfram.com/cloud/">About Wolfram Cloud &raquo;</a>                <a class="wolfram-branding-link-secondary" target="_blank" href="http://www.wolfram.com/legal/terms/wolfram-cloud.html">Terms of use &raquo;</a>                <a class="wolfram-branding-link-secondary" target="_blank" href="http://www.wolfram.com/knowledgebase/source-information/">Data source information &raquo;</a>            </ul>        </div>');$("body").append(a).addClass("has-wolfram-branding");a.mouseleave(function(b){if(a.hasClass("open")){a.find(".wolfram-branding-cloud").dropdown("toggle")}}).find(".wolfram-branding-cloud").hover(function(b){if(!a.hasClass("open")){$(this).dropdown("toggle")}})});$(document).ready(function(){$(window).unload(function(){$(".btn-submit-loading").button("reset")});$("form").on("submit",function(e){var c=$("[data-image-formatting-width]").width();var d=$(this);var b=d.find("[type=submit]");if(c){var a=d.find("[name=_imageformattingwidth]");if(a.length==0){a=$('<input type="hidden" name="_imageformattingwidth"/>');d.append(a)}a.val(c)}b.attr("autocomplete","off").addClass("btn-submit-loading").attr("data-loading-text",b.attr("data-loading-text")||'<div class="loading-status">                    <i class="glyphicon glyphicon-stop"/>                    <i class="glyphicon glyphicon-stop"/>                    <i class="glyphicon glyphicon-stop"/>                    <i class="glyphicon glyphicon-stop"/>                </div>').button("loading");setTimeout(function(){b.button("reset")},20000)})});